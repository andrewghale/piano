{"version":3,"sources":["intervals.js","main.js"],"names":[],"mappings":"AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;ACzQA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"app.js","sourcesContent":["// const note1 = document.getElementById(\"note1Field\")\n// const note2 = document.getElementById(\"note2Field\")\n// const note3 = document.getElementById(\"note3Field\")\n// const note4 = document.getElementById(\"note4Field\")\n// const button = document.getElementById(\"submitGuess\")\nconst result = document.getElementById(\"result\")\n\nlet allowed = true;\nlet notesArr = []\n\nconst chordTypes = [\n  {\n    \"code\": \".\",\n    \"name\": \"\",\n  },\n  {\n    \"code\": \".4\",\n    \"name\": \"\",\n  },\n  {\n    \"code\": \".3\",\n    \"name\": \"m\",\n  },\n  {\n    \"code\": \".7\",\n    \"name\": \"5\",\n  },\n  {\n    \"code\": \".4.7\",\n    \"name\": \"\",\n  },\n  {\n    \"code\": \".5.7\",\n    \"name\": \"sus4\"\n  },\n  {\n    \"code\": \".2.7\",\n    \"name\": \"sus2\"\n  },\n  {\n    \"code\": \".1.7\",\n    \"name\": \"no3/5(â™­9)\"\n  },\n  {\n    \"code\": \".6.7\",\n    \"name\": \"no3/5(#11)\"\n  },\n  {\n    \"code\": \".6.7.11\",\n    \"name\": \"no3/5/maj7(#11)\"\n  },\n  {\n    \"code\": \".7.10\",\n    \"name\": \"no3/5 7\"\n  },\n  {\n    \"code\": \".4.7.14\",\n    \"name\": \"(add9)\"\n  },\n  {\n    \"code\": \".4.7.9\",\n    \"name\": \"6\"\n  },\n  {\n    \"code\": \".4.7.11\",\n    \"name\": \"maj7\"\n  },\n  {\n    \"code\": \".5.7.11\",\n    \"name\": \"sus4/maj7\"\n  },\n  {\n    \"code\": \".7.11\",\n    \"name\": \"no3/5/maj7\"\n  },\n  {\n    \"code\": \".3.7\",\n    \"name\": \"m\"\n  },\n  {\n    \"code\": \".3.7.14\",\n    \"name\": \"m9\"\n  },\n  {\n    \"code\": \".3.7.9\",\n    \"name\": \"m6\"\n  },\n  {\n    \"code\": \".3.7.8\",\n    \"name\": \"mflat6\"\n  },\n  {\n    \"code\": \".3.7.10\",\n    \"name\": \"m7\"\n  },\n  {\n    \"code\": \".3.7.11\",\n    \"name\": \"m maj7\"\n  },\n  {\n    \"code\": \".3.6.10\",\n    \"name\": \"m7flat5\"\n  },\n  {\n    \"code\": \".4.7.10\",\n    \"name\": \"7\"\n  },\n  {\n    \"code\": \".2.7.9\",\n    \"name\": \"6sus2\"\n  },\n  {\n    \"code\": \".5.7.10\",\n    \"name\": \"7sus4\"\n  },\n  {\n    \"code\": \".4.8\",\n    \"name\": \"aug\"\n  },\n  {\n    \"code\": \".3.6\",\n    \"name\": \"dim\"\n  },\n  {\n    \"code\": \".3.6.9\",\n    \"name\": \"dim7\"\n  }\n]\n\nconst makeChordCode = (note1, note2, note3, note4) => {\n  let note1Index, note2Index, note3Index, note4Index\n  let chord = []\n  const notesArr = [\n    \"C\",\n    \"C#\",\n    \"D\",\n    \"D#\",\n    \"E\",\n    \"F\",\n    \"F#\",\n    \"G\",\n    \"G#\",\n    \"A\",\n    \"A#\",\n    \"B\",\n    \"C\",\n    \"C#\",\n    \"D\",\n    \"D#\",\n    \"E\",\n    \"F\",\n    \"F#\",\n    \"G\",\n    \"G#\",\n    \"A\",\n    \"A#\",\n    \"B\",\n    \"C\",\n    \"C#\",\n    \"D\",\n    \"D#\",\n    \"E\",\n    \"F\",\n    \"F#\",\n    \"G\",\n    \"G#\",\n    \"A\",\n    \"A#\",\n    \"B\"\n  ]\n  note1Index = notesArr.indexOf(note1)\n  note2Index = notesArr.indexOf(note2, note1Index)\n  note3Index = notesArr.indexOf(note3, note2Index)\n  note4Index = notesArr.indexOf(note4, note3Index)\n\n  // console.log(`${note2Index - note1Index}`)\n\n  if (Math.sign(note2Index - note1Index) !== -1) {\n    chord.push(note2Index - note1Index)\n  }\n  if (Math.sign(note3Index - note1Index) !== -1) {\n    chord.push(note3Index - note1Index)\n  }\n  if (Math.sign(note4Index - note1Index) !== -1) {\n  chord.push(note4Index\n     - note1Index\n  )}\n  console.log(`chord is ${chord}`)\n  return chord\n}\n\nconst findChordTypes = (str) => {\n  console.log(str)\n  const theResult = chordTypes.find((el) => el.code === str)\n  if (theResult == undefined) {\n    return\n  } else {\n    return theResult.name\n  }\n}\n\nwindow.addEventListener('keydown', function(e) {\n  const key = document.querySelector(`.key[data-key=\"${e.keyCode}\"] `)\n  if ( key==null ) {\n    return\n  }\n  key.classList.add(\"playing\")\n})\n\nwindow.addEventListener('keyup', function(e){\n  const key = document.querySelector(`.key[data-key=\"${e.keyCode}\"]`)\n  if ( key==null ) {\n    return\n  }\n  key.classList.remove(\"playing\")\n})\n\nconst sort = (str) => {\n//     let itemsOrdered = []\n//     const theOrder = [65, 87, 83, 69, 68, 70, 84, 71, 89, 72, 85, 74, 75, 79, 76, 80, 186, 222]\n//     for (var j = 0; j <= str.length; j++) {\n//         if (notesArr.indexOf(theOrder[j]) > -1) {\n//             itemsOrdered.push(theOrder[j]);\n//         }\n//     console.log(itemsOrdered);\n//     console.log(str)\n//     }\n}\n\nwindow.addEventListener(\"keydown\", function(e) {\n  let oneNote = document.querySelector(`.key[data-key=\"${e.keyCode}\"] .js-note`).textContent\n  // console.log(oneNote)\n  if ( event.repeat != undefined ) {\n    allowed = !event.repeat;\n  }\n  if ( !allowed ) return\n  allowed = false;\n  if (oneNote) {\n    notesArr.push(oneNote)\n  }\n  let theChordCode = (makeChordCode(...notesArr)).join(\".\").toString()\n  if (theChordCode !== \"\") {\n    let firstDot = `.`\n    theChordCode = firstDot.concat(theChordCode)\n    result.innerHTML = `Chord: ${notesArr[0]} ${findChordTypes(theChordCode)}`\n  }\n})\n\nwindow.addEventListener(\"keyup\", function(e){\n  let oneNote = document.querySelector(`.key[data-key=\"${e.keyCode}\"] .js-note`).textContent\n  allowed = true;\n  if (oneNote) {\n    notesArr.pop(oneNote)\n  }\n  let theChordCode = (makeChordCode(...notesArr)).join(\".\").toString()\n  let firstDot = `.`\n  theChordCode = firstDot.concat(theChordCode)\n  if (notesArr === undefined || notesArr.length === 0) {\n    console.log(`empty array`)\n    result.innerHTML = `Chord:`\n  } else {\n  result.innerHTML = `Chord: ${notesArr[0]} ${findChordTypes(theChordCode)}`\n  }\n})\n\n","let context = null;\nlet oscillator = null;\n\nconst getOrCreateContext = () => {\n  if (!context) {\n    context = new AudioContext();\n    oscillator = context.createOscillator();\n    oscillator.type = \"triangle\";\n    oscillator.connect(context.destination);\n  }\n  return context;\n};\n\nlet isStarted = false;\n\nconst noteOn = midiNote => {\n  getOrCreateContext();\n  const freq = Math.pow(2, (midiNote - 69) / 12) * 440;\n  oscillator.frequency.setTargetAtTime(freq, context.currentTime, 0);\n  if (!isStarted) {\n    oscillator.start(0);\n    isStarted = true;\n  } else {\n    context.resume();\n  }\n};\n\nconst noteOff = () => {\n  context.suspend();\n};\n\n// Below is keyboard emulation for C4-F5 a-' keys\nconst emulatedKeys = {\n  a: 60,\n  w: 61,\n  s: 62,\n  e: 63,\n  d: 64,\n  f: 65,\n  t: 66,\n  g: 67,\n  y: 68,\n  h: 69,\n  u: 70,\n  j: 71,\n  k: 72,\n  o: 73,\n  l: 74,\n  p: 75,\n  \";\": 76,\n  \"'\": 77\n};\n\ndocument.addEventListener(\"keydown\", e => {\n  const key = document.querySelector(`.key[data-key=\"${e.keyCode}\"]`);\n  // console.log(e);\n  if (emulatedKeys.hasOwnProperty(e.key)) {\n    noteOn(emulatedKeys[e.key]);\n    key.classList.add('playing');\n    setTimeout(() => {\n      key.classList.remove('playing');\n    }, 100);\n  }\n});\n\ndocument.addEventListener(\"keyup\", e => {\n  if (emulatedKeys.hasOwnProperty(e.key)) {\n    noteOff();\n  }\n});"]}
{"version":3,"sources":["intervals.js","main.js"],"names":[],"mappings":"AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;ACxaA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"app.js","sourcesContent":["// const note1 = document.getElementById(\"note1Field\")\n// const note2 = document.getElementById(\"note2Field\")\n// const note3 = document.getElementById(\"note3Field\")\n// const note4 = document.getElementById(\"note4Field\")\n// const button = document.getElementById(\"submitGuess\")\nconst result = document.getElementById(\"result\");\n\nlet allowed = true;\nlet notesArr = [];\nlet skippedNote = false;\nconst chordTypes = [\n  {\n     \"name\":\"augmented\",\n     \"code\":\"0.4.8\",\n     \"quality\":\"augmented\"\n  },\n  {\n     \"name\":\"augmented-eleventh\",\n     \"code\":\"0.4.7.10.14.18\",\n     \"quality\":\"major\"\n  },\n  {\n     \"name\":\"augmented-major-seventh\",\n     \"code\":\"0.4.8.11\",\n     \"quality\":\"augmented\"\n  },\n  {\n     \"name\":\"augmented-seventh\",\n     \"code\":\"0.4.8.10\",\n     \"quality\":\"augmented\"\n  },\n  {\n     \"name\":\"augmented-sixth\",\n     \"code\":\"0.6.10\",\n     \"quality\":\"predominant\"\n  },\n  {\n     \"name\":\"diminished\",\n     \"code\":\"0.3.6\",\n     \"quality\":\"diminished\"\n  },\n  {\n     \"name\":\"diminished-major-seventh\",\n     \"code\":\"0.3.6.11\",\n     \"quality\":\"diminished\"\n  },\n  {\n     \"name\":\"diminished-seventh\",\n     \"code\":\"0.3.6.9\",\n     \"quality\":\"diminished\"\n  },\n  {\n     \"name\":\"dominant-eleventh\",\n     \"code\":\"0.4.7.10.14.17\",\n     \"quality\":\"major\"\n  },\n  {\n     \"name\":\"dominant-minor-ninth\",\n     \"code\":\"0.4.7.10.13\",\n     \"quality\":\"major\"\n  },\n  {\n     \"name\":\"dominant-ninth\",\n     \"code\":\"0.4.7.10.14\",\n     \"quality\":\"major\"\n  },\n  {\n     \"name\":\"dominant-seventh\",\n     \"code\":\"0.4.7.10\",\n     \"quality\":\"major\"\n  },\n  {\n     \"name\":\"dominant-seventh-flat-five\",\n     \"code\":\"0.4.6.10\",\n     \"quality\":\"diminished\"\n  },\n  {\n     \"name\":\"dominant-seventh-sharp-nine\",\n     \"code\":\"0.4.7.10.15\",\n     \"quality\":\"major\"\n  },\n  {\n     \"name\":\"dominant-thirteenth\",\n     \"code\":\"0.4.7.10.14.17.9\",\n     \"quality\":\"major\"\n  },\n  {\n     \"name\":\"dream\",\n     \"code\":\"0.5.6.7\",\n     \"quality\":\"just\"\n  },\n  {\n     \"name\":\"elektra\",\n     \"code\":\"0.7.9.13.16\",\n     \"quality\":\"bitonal\"\n  },\n  {\n     \"name\":\"farben\",\n     \"code\":\"0.8.11.16.21\",\n     \"quality\":\"atonal\"\n  },\n  {\n     \"name\":\"half-diminished-seventh\",\n     \"code\":\"0.3.6.10\",\n     \"quality\":\"diminished\"\n  },\n  {\n     \"name\":\"harmonic-seventh\",\n     \"code\":\"0.4.7.10\",\n     \"quality\":\"major\"\n  },\n  {\n     \"name\":\"leading-tone-triad\",\n     \"code\":\"0.3.6\",\n     \"quality\":\"diminished\"\n  },\n  {\n     \"name\":\"lydian\",\n     \"code\":\"0.4.7.11.18\",\n     \"quality\":\"major\"\n  },\n  {\n     \"name\":\"magic\",\n     \"code\":\"0.1.5.6.10.12.15.17\",\n     \"quality\":\"just\"\n  },\n  {\n     \"name\":\"major\",\n     \"code\":\"0.4.7\",\n     \"quality\":\"major\"\n  },\n  {\n     \"name\":\"major-eleventh\",\n     \"code\":\"0.4.7.11.14.17\",\n     \"quality\":\"major\"\n  },\n  {\n     \"name\":\"major-seventh\",\n     \"code\":\"0.4.7.11\",\n     \"quality\":\"major\"\n  },\n  {\n     \"name\":\"major-seventh-sharp-eleventh\",\n     \"code\":\"0.4.8.11.18\",\n     \"quality\":\"augmented\"\n  },\n  {\n     \"name\":\"major-sixth\",\n     \"code\":\"0.4.7.9\",\n     \"quality\":\"major\"\n  },\n  {\n     \"name\":\"major-sixth-ninth\",\n     \"code\":\"0.4.7.9.14\",\n     \"quality\":\"major\"\n  },\n  {\n     \"name\":\"major-ninth\",\n     \"code\":\"0.4.7.11.14\",\n     \"quality\":\"major\"\n  },\n  {\n     \"name\":\"major-thirteenth\",\n     \"code\":\"0.4.7.11.14.18.9\",\n     \"quality\":\"major\"\n  },\n  {\n     \"name\":\"minor\",\n     \"code\":\"0.3.7\",\n     \"quality\":\"minor\"\n  },\n  {\n     \"name\":\"minor-eleventh\",\n     \"code\":\"0.3.7.10.14.17\",\n     \"quality\":\"minor\"\n  },\n  {\n     \"name\":\"minor-major-seventh\",\n     \"code\":\"0.3.7.11\",\n     \"quality\":\"minor\"\n  },\n  {\n     \"name\":\"minor-ninth\",\n     \"code\":\"0.3.7.10.14\",\n     \"quality\":\"minor\"\n  },\n  {\n     \"name\":\"minor-seventh\",\n     \"code\":\"0.3.7.10\",\n     \"quality\":\"minor\"\n  },\n  {\n     \"name\":\"minor-sixth\",\n     \"code\":\"0.3.7.9\",\n     \"quality\":\"minor\"\n  },\n  {\n     \"name\":\"minor-sixth-ninth\",\n     \"code\":\"0.3.7.9.14\",\n     \"quality\":\"minor\"\n  },\n  {\n     \"name\":\"minor-thirteenth\",\n     \"code\":\"0.3.7.10.14.17.9\",\n     \"quality\":\"minor\"\n  },\n  {\n     \"name\":\"mu\",\n     \"code\":\"0.2.4.7\",\n     \"quality\":\"major\"\n  },\n  {\n     \"name\":\"mystic\",\n     \"code\":\"0.6.10.16.21.14\",\n     \"quality\":\"atonal\"\n  },\n  {\n     \"name\":\"neapolitan\",\n     \"code\":\"1.5.8\",\n     \"quality\":\"major\"\n  },\n  {\n     \"name\":\"ninth-augmented-fifth\",\n     \"code\":\"0.4.8.10.14\",\n     \"quality\":\"augmented\"\n  },\n  {\n     \"name\":\"ninth-flat-fifth\",\n     \"code\":\"0.4.6.10.14\",\n     \"quality\":\"m3+d5\"\n  },\n  {\n     \"name\":\"northern-lights\",\n     \"code\":\"1.2.8.12.15.18.19.22.23.28.31\",\n     \"quality\":\"atonal\"\n  },\n  {\n     \"name\":\"ode-to-napoleon\",\n     \"code\":\"0.1.4.5.8.9\",\n     \"quality\":\"atonal\"\n  },\n  {\n     \"name\":\"petrushka\",\n     \"code\":\"0.1.4.6.7.10\",\n     \"quality\":\"bitonal\"\n  },\n  {\n     \"name\":\"power-p5\",\n     \"code\":\"0.7\",\n     \"quality\":\"indeterminate\"\n  },\n  {\n     \"name\":\"secondary-leading-tone\",\n     \"code\":\"0.3.6\",\n     \"quality\":\"diminished\"\n  },\n  {\n     \"name\":\"seven-six\",\n     \"code\":\"0.4.7.9.10\",\n     \"quality\":\"major\"\n  },\n  {\n     \"name\":\"seventh-suspension-four\",\n     \"code\":\"0.5.7.10\",\n     \"quality\":\"suspended\"\n  },\n  {\n     \"name\":\"so-what\",\n     \"code\":\"0.5.10.15.19\",\n     \"quality\":\"bitonal\"\n  },\n  {\n     \"name\":\"suspended\",\n     \"code\":\"0.5.7\",\n     \"quality\":\"suspended\"\n  },\n  {\n     \"name\":\"tristan\",\n     \"code\":\"0.3.6.10\",\n     \"quality\":\"predominant\"\n  },\n  {\n     \"name\":\"viennese-tri\",\n     \"code\":\"0.6.7\",\n     \"quality\":\"atonal\"\n  }\n]\n\nconst sortingArr = [\n  \"C4\",\n  \"C#4\",\n  \"D4\",\n  \"D#4\",\n  \"E4\",\n  \"F4\",\n  \"F#4\",\n  \"G4\",\n  \"G#4\",\n  \"A4\",\n  \"A#4\",\n  \"B4\",\n  \"C5\",\n  \"C#5\",\n  \"D5\",\n  \"D#5\",\n  \"E5\",\n  \"F5\",\n  \"F#5\",\n  \"G5\",\n  \"G#5\",\n  \"A5\",\n  \"A#5\",\n  \"B5\",\n  \"C6\",\n  \"C#6\",\n  \"D6\",\n  \"D#6\",\n  \"E6\",\n  \"F6\",\n  \"F#6\",\n  \"G6\",\n  \"G#6\",\n  \"A6\",\n  \"A#6\",\n  \"B6\",\n];\n\nconst makeChordCode = (...arr) => {\n  // takes array of musical notes,\n  // e.g. [\"C4\", \"D#4\", \"G4\"]\n  // returns semitone intervals (root note included in output)\n  //e.g. [4, 7]\n  let chord = [];\n  arr.map((c) => chord.push(sortingArr.indexOf(c)));\n  return chord.map((c) => c - chord[0]);\n};\n\nconst findChordTypes = (str) => {\n  // str is the chord code e.g. \".4.7.11\"\n  // chord is an object e.g. {code: \".5.7\", name: \"sus4\"}\n  const chord = chordTypes.find((el) => el.code === str);\n  return chord === undefined ? `` : chord.name;\n};\n\n//\n// Add and Remove CSS Classes\n// get the DOM element via data-key and use it if not null\n\nconst addNote = (e) => {\n  if (document.querySelector(`.key[data-key=\"${e.keyCode}\"]`)) {\n    // oneNote is the musical note name e.g. C OR F\n    let oneNote = document.querySelector(\n      `.key[data-key=\"${e.keyCode}\"] .js-note`\n    ).textContent;\n    if (event.repeat != undefined) {\n      allowed = !event.repeat;\n    }\n    if (!allowed) return;\n    allowed = false;\n    if (notesArr.includes(oneNote)) skippedNote = true;\n    if (oneNote && !notesArr.includes(oneNote)) {\n      notesArr.push(oneNote);\n    }\n    let theChordCode = makeChordCode(\n      ...notesArr.sort((a, b) => sortingArr.indexOf(a) - sortingArr.indexOf(b))\n    )\n      .join(\".\")\n      .toString();\n    console.log(theChordCode);\n    if (theChordCode !== ``) {\n      result.innerHTML = `Chord: ${notesArr[0].replace(\n        /\\d/g,\n        \"\"\n      )} ${findChordTypes(theChordCode)}`;\n    }\n  }\n};\n\nconst removeNote = (e) => {\n  if (document.querySelector(`.key[data-key=\"${e.keyCode}\"]`)) {\n    let oneNote = document.querySelector(\n      `.key[data-key=\"${e.keyCode}\"] .js-note`\n    ).textContent;\n    allowed = true;\n    if (oneNote && skippedNote !== true) {\n      notesArr.pop(oneNote);\n    }\n    skippedNote = false;\n    let theChordCode = makeChordCode(\n      ...notesArr.sort((a, b) => sortingArr.indexOf(a) - sortingArr.indexOf(b))\n    )\n      .join(\".\")\n      .toString();\n    console.log(theChordCode);\n    if (notesArr === undefined || notesArr.length === 0) {\n      result.innerHTML = `Chord:`;\n    } else {\n      result.innerHTML = `Chord: ${notesArr[0].replace(\n        /\\d/g,\n        \"\"\n      )} ${findChordTypes(theChordCode)}`;\n    }\n  }\n};\n\nconst removePlaying = (e) => {\n  const keyRemove = document.querySelector(`.key[data-key=\"${e.keyCode}\"]`);\n  if (keyRemove !== null) keyRemove.classList.remove(`playing`);\n};\n\nconst addPlaying = (e) => {\n  const keyAdd = document.querySelector(`.key[data-key=\"${e.keyCode}\"]`);\n  if (keyAdd !== null) keyAdd.classList.add(`playing`);\n};\n\nwindow.addEventListener(\"keydown\", (e) => {\n  addNote(e);\n  addPlaying(e);\n});\n\nwindow.addEventListener(\"keyup\", (e) => {\n  removeNote(e);\n  removePlaying(e);\n});\n","let context = null;\nlet oscillator = null;\n\nconst getOrCreateContext = () => {\n  if (!context) {\n    context = new AudioContext();\n    oscillator = context.createOscillator();\n    oscillator.type = \"triangle\";\n    oscillator.connect(context.destination);\n  }\n  return context;\n};\n\nlet isStarted = false;\n\nconst noteOn = midiNote => {\n  getOrCreateContext();\n  const freq = Math.pow(2, (midiNote - 69) / 12) * 440;\n  oscillator.frequency.setTargetAtTime(freq, context.currentTime, 0);\n  if (!isStarted) {\n    oscillator.start(0);\n    isStarted = true;\n  } else {\n    context.resume();\n  }\n};\n\nconst noteOff = () => {\n  context.suspend();\n};\n\n// Below is keyboard emulation for C4-F5 a-' keys\nconst emulatedKeys = {\n  a: 60,\n  w: 61,\n  s: 62,\n  e: 63,\n  d: 64,\n  f: 65,\n  t: 66,\n  g: 67,\n  y: 68,\n  h: 69,\n  u: 70,\n  j: 71,\n  k: 72,\n  o: 73,\n  l: 74,\n  p: 75,\n  \";\": 76,\n  \"'\": 77\n};\n\ndocument.addEventListener(\"keydown\", e => {\n  const key = document.querySelector(`.key[data-key=\"${e.keyCode}\"]`);\n  // console.log(e);\n  if (emulatedKeys.hasOwnProperty(e.key)) {\n    noteOn(emulatedKeys[e.key]);\n    key.classList.add('playing');\n    setTimeout(() => {\n      key.classList.remove('playing');\n    }, 100);\n  }\n});\n\ndocument.addEventListener(\"keyup\", e => {\n  if (emulatedKeys.hasOwnProperty(e.key)) {\n    noteOff();\n  }\n});"]}